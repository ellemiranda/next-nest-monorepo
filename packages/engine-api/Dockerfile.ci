FROM node:16-alpine

WORKDIR /srv/app

COPY node_modules ./node_modules

COPY packages/engine-api/package.json ./packages/engine-api/package.json
COPY packages/engine-api/dist ./packages/engine-api/dist
COPY packages/engine-api/node_modules ./packages/engine-api/node_modules

WORKDIR /srv/app/packages/engine-api

EXPOSE 3000

CMD ["npm", "run", "start"]